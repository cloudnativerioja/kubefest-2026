---
import Reveal from './Reveal.astro';
import { SPEAKERS } from '../constants';

const speakersWithStyles = SPEAKERS.map((speaker, idx) => {
  const borderColorClass =
    idx % 2 === 0
      ? 'group-hover:border-cncf-blue'
      : 'group-hover:border-secondary';
  const shadowClass =
    idx % 2 === 0
      ? 'group-hover:shadow-cncf-blue/30'
      : 'group-hover:shadow-secondary/30';
  const textColorClass =
    idx % 2 === 0 ? 'group-hover:text-cncf-blue' : 'group-hover:text-secondary';
  const roleColorClass = idx % 2 === 0 ? 'text-cncf-blue' : 'text-secondary';
  return {
    speaker,
    borderColorClass,
    shadowClass,
    textColorClass,
    roleColorClass,
  };
});
---

<div
  class="flex flex-1 justify-center py-20 px-4 md:px-0 bg-gray-50 dark:bg-card-dark/30 transition-colors duration-300"
  id="speakers"
>
  <div class="flex flex-col max-w-[1200px] flex-1 w-full">
    <Reveal className="px-4 pb-14 text-center">
      <h2
        class="text-slate-900 dark:text-white text-4xl font-bold leading-tight tracking-[-0.015em] mb-4"
      >
        Speakers
      </h2>
      <p class="text-gray-500 dark:text-gray-400 max-w-2xl mx-auto text-lg">
        Aprende de los expertos que están impulsando la innovación en la
        Infraestructura y la IA.
      </p>
    </Reveal>

    <Reveal
      mode="children"
      className="grid grid-cols-1 sm:grid-cols-2 gap-10 md:gap-12 px-4 max-w-4xl mx-auto"
    >
      {
        speakersWithStyles.map(
          ({
            speaker,
            borderColorClass,
            shadowClass,
            textColorClass,
            roleColorClass,
          }) => (
            <a
              href={speaker.link}
              target="_blank"
              rel="noopener noreferrer"
              class={`group flex flex-col items-center text-center cursor-pointer`}
            >
              <div
                class={`relative w-48 h-48 md:w-56 md:h-56 rounded-full overflow-hidden border-4 border-gray-200 dark:border-[#232f48] ${borderColorClass} transition-all duration-300 mb-6 shadow-xl ${shadowClass}`}
              >
                <img
                  src={speaker.image}
                  alt={speaker.name}
                  class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500 transform group-hover:scale-110"
                />
              </div>
              <h3
                class={`text-slate-900 dark:text-white text-2xl font-bold leading-tight mb-1 ${textColorClass} transition-colors`}
              >
                {speaker.name}
              </h3>
              <p
                class={`${roleColorClass} font-bold text-sm uppercase tracking-wider mb-1`}
              >
                {speaker.role}
              </p>
              <p class="text-gray-500 dark:text-gray-400 font-medium text-sm">
                {speaker.company}
              </p>
            </a>
          ),
        )
      }
    </Reveal>
  </div>
</div>
